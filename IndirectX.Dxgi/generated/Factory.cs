// <auto-generated>
// THIS CODE FILE IS GENERATED BY IndirectX.TypeGenerator.
// DO NOT CHANGE IT.
// </auto-generated>
#nullable enable
using System;
using IndirectX.Interop;
using System.Runtime.InteropServices;
using System.Runtime.CompilerServices;
using IndirectX.Dxgi.Interop;

namespace IndirectX.Dxgi
{
    [Guid("7b7166ec-21c7-44ae-b21a-c9ae321ae369")]
    public unsafe partial class Factory : DxgiObject
	{
        private ref readonly FactoryVtbl VtblRef
        {
            [MethodImpl(MethodImplOptions.AggressiveInlining)]
            get => ref Unsafe.AsRef<FactoryVtbl>(*(void**)ComPtr.Native);
        }

	    public Factory(ComPtr nativePtr, bool addRef = false) : base(nativePtr, addRef) { }

        public Adapter EnumAdapters(int adapterIndex)
        {
            {
                VtblRef.EnumAdapters(ComPtr, adapterIndex, out var adapter).HandleResult();
			    return (new Adapter(adapter));
            }
        }

        public void MakeWindowAssociation(nint windowHandle, WindowAssociationFlags flags)
        {
            {
                VtblRef.MakeWindowAssociation(ComPtr, windowHandle, flags).HandleResult();
            }
        }

        public nint GetWindowAssociation()
        {
            {
                VtblRef.GetWindowAssociation(ComPtr, out var windowHandle).HandleResult();
			    return (windowHandle);
            }
        }

        public SwapChain CreateSwapChain(Unknown device, in SwapChainDesc desc)
        {
            {
                VtblRef.CreateSwapChain(ComPtr, device.ComPtr, in desc, out var swapChain).HandleResult();
			    return (new SwapChain(swapChain));
            }
        }

        public Adapter CreateSoftwareAdapter(nint module)
        {
            {
                VtblRef.CreateSoftwareAdapter(ComPtr, module, out var adapter).HandleResult();
			    return (new Adapter(adapter));
            }
        }

        public nint WindowAssociation => GetWindowAssociation();
	}
}

namespace IndirectX.Dxgi.Interop
{
    [StructLayout(LayoutKind.Sequential)]
	public unsafe struct FactoryVtbl
	{
	    internal DxgiObjectVtbl Base;
        internal delegate* unmanaged[Stdcall]<ComPtr, int, out ComPtr, HResult> EnumAdapters;
        internal delegate* unmanaged[Stdcall]<ComPtr, nint, WindowAssociationFlags, HResult> MakeWindowAssociation;
        internal delegate* unmanaged[Stdcall]<ComPtr, out nint, HResult> GetWindowAssociation;
        internal delegate* unmanaged[Stdcall]<ComPtr, ComPtr, in SwapChainDesc, out ComPtr, HResult> CreateSwapChain;
        internal delegate* unmanaged[Stdcall]<ComPtr, nint, out ComPtr, HResult> CreateSoftwareAdapter;
	}
}

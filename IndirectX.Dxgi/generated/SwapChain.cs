// <auto-generated>
// THIS CODE FILE IS GENERATED BY IndirectX.TypeGenerator.
// DO NOT CHANGE IT.
// </auto-generated>
#nullable enable
using System;
using IndirectX.Interop;
using System.Runtime.InteropServices;
using System.Runtime.CompilerServices;
using IndirectX.Dxgi.Interop;

namespace IndirectX.Dxgi
{
    [Guid("310d36a0-d2e7-4c0a-aa04-6a9d23b8886a")]
    public unsafe partial class SwapChain : DeviceSubObject
	{
        private ref readonly SwapChainVtbl VtblRef
        {
            [MethodImpl(MethodImplOptions.AggressiveInlining)]
            get => ref Unsafe.AsRef<SwapChainVtbl>(*(void**)ComPtr.Native);
        }

	    public SwapChain(ComPtr nativePtr, bool addRef = false) : base(nativePtr, addRef) { }

        public void Present(int syncInterval, PresentFlags flags)
        {
            {
                VtblRef.Present(ComPtr, syncInterval, flags).HandleResult();
            }
        }

        private ComPtr GetBuffer(int buffer, in Guid riid)
        {
            {
                VtblRef.GetBuffer(ComPtr, buffer, in riid, out var surface).HandleResult();
			    return (surface);
            }
        }

        public void SetFullscreenState(Bool fullscreen, Output? target)
        {
            {
                VtblRef.SetFullscreenState(ComPtr, fullscreen, target?.ComPtr ?? default).HandleResult();
            }
        }

        public void SetFullscreenState(Bool fullscreen)
        {
            {
                VtblRef.SetFullscreenState(ComPtr, fullscreen, default).HandleResult();
            }
        }

        public (Bool fullscreen, Output target) GetFullscreenState()
        {
            {
                VtblRef.GetFullscreenState(ComPtr, out var fullscreen, out var target).HandleResult();
			    return (fullscreen, new Output(target));
            }
        }

        public SwapChainDesc GetDesc()
        {
            {
                VtblRef.GetDesc(ComPtr, out var desc).HandleResult();
			    return (desc);
            }
        }

        public void ResizeBuffers(int bufferCount, int width, int height, Format newFormat, int swapChainFlags)
        {
            {
                VtblRef.ResizeBuffers(ComPtr, bufferCount, width, height, newFormat, swapChainFlags).HandleResult();
            }
        }

        public void ResizeTarget(in ModeDesc newTargetParameters)
        {
            {
                VtblRef.ResizeTarget(ComPtr, in newTargetParameters).HandleResult();
            }
        }

        public Output GetContainingOutput()
        {
            {
                VtblRef.GetContainingOutput(ComPtr, out var output).HandleResult();
			    return (new Output(output));
            }
        }

        public FrameStatistics GetFrameStatistics()
        {
            {
                VtblRef.GetFrameStatistics(ComPtr, out var stats).HandleResult();
			    return (stats);
            }
        }

        public int GetLastPresentCount()
        {
            {
                VtblRef.GetLastPresentCount(ComPtr, out var lastPresentCount).HandleResult();
			    return (lastPresentCount);
            }
        }

        public SwapChainDesc Desc => GetDesc();

        public Output ContainingOutput => GetContainingOutput();

        public FrameStatistics FrameStatistics => GetFrameStatistics();

        public int LastPresentCount => GetLastPresentCount();
	}
}

namespace IndirectX.Dxgi.Interop
{
    [StructLayout(LayoutKind.Sequential)]
	public unsafe struct SwapChainVtbl
	{
	    internal DeviceSubObjectVtbl Base;
        internal delegate* unmanaged[Stdcall]<ComPtr, int, PresentFlags, HResult> Present;
        internal delegate* unmanaged[Stdcall]<ComPtr, int, in Guid, out ComPtr, HResult> GetBuffer;
        internal delegate* unmanaged[Stdcall]<ComPtr, Bool, ComPtr, HResult> SetFullscreenState;
        internal delegate* unmanaged[Stdcall]<ComPtr, out Bool, out ComPtr, HResult> GetFullscreenState;
        internal delegate* unmanaged[Stdcall]<ComPtr, out SwapChainDesc, HResult> GetDesc;
        internal delegate* unmanaged[Stdcall]<ComPtr, int, int, int, Format, int, HResult> ResizeBuffers;
        internal delegate* unmanaged[Stdcall]<ComPtr, in ModeDesc, HResult> ResizeTarget;
        internal delegate* unmanaged[Stdcall]<ComPtr, out ComPtr, HResult> GetContainingOutput;
        internal delegate* unmanaged[Stdcall]<ComPtr, out FrameStatistics, HResult> GetFrameStatistics;
        internal delegate* unmanaged[Stdcall]<ComPtr, out int, HResult> GetLastPresentCount;
	}
}

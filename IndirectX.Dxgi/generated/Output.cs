// <auto-generated>
// THIS CODE FILE IS GENERATED BY IndirectX.TypeGenerator.
// DO NOT CHANGE IT.
// </auto-generated>
#nullable enable
using System;
using IndirectX.Interop;
using System.Runtime.InteropServices;
using System.Runtime.CompilerServices;
using IndirectX.Dxgi.Interop;

namespace IndirectX.Dxgi
{
    [Guid("ae02eedb-c735-4690-8d52-5a8dc20213aa")]
    public unsafe partial class Output : DxgiObject
	{
        private ref readonly OutputVtbl VtblRef
        {
            [MethodImpl(MethodImplOptions.AggressiveInlining)]
            get => ref Unsafe.AsRef<OutputVtbl>(*(void**)ComPtr.Native);
        }

	    public Output(ComPtr nativePtr, bool addRef = false) : base(nativePtr, addRef) { }

        public OutputDesc GetDesc()
        {
            {
                VtblRef.GetDesc(ComPtr, out var desc).HandleResult();
			    return (desc);
            }
        }

        public ModeDesc[] GetDisplayModeList(Format enumFormat, int flags, ref int numModes)
        {
            var desc = new ModeDesc[numModes];
            fixed (ModeDesc* p_desc = desc)
            {
                VtblRef.GetDisplayModeList(ComPtr, enumFormat, flags, ref numModes, p_desc).HandleResult();
			    return (desc);
            }
        }

        public ModeDesc FindClosestMatchingMode(in ModeDesc modeToMatch, Unknown? concernedDevice)
        {
            {
                VtblRef.FindClosestMatchingMode(ComPtr, in modeToMatch, out var closestMatch, concernedDevice?.ComPtr ?? default).HandleResult();
			    return (closestMatch);
            }
        }

        public ModeDesc FindClosestMatchingMode(in ModeDesc modeToMatch)
        {
            {
                VtblRef.FindClosestMatchingMode(ComPtr, in modeToMatch, out var closestMatch, default).HandleResult();
			    return (closestMatch);
            }
        }

        public void WaitForVBlank()
        {
            {
                VtblRef.WaitForVBlank(ComPtr).HandleResult();
            }
        }

        public void TakeOwnership(Unknown device, Bool exclusive)
        {
            {
                VtblRef.TakeOwnership(ComPtr, device.ComPtr, exclusive).HandleResult();
            }
        }

        public void ReleaseOwnership()
        {
            {
                VtblRef.ReleaseOwnership(ComPtr);
            }
        }

        public GammaControlCapabilities GetGammaControlCapabilities()
        {
            {
                VtblRef.GetGammaControlCapabilities(ComPtr, out var gammaCaps).HandleResult();
			    return (gammaCaps);
            }
        }

        public void SetGammaControl(in GammaControl array)
        {
            {
                VtblRef.SetGammaControl(ComPtr, in array).HandleResult();
            }
        }

        public GammaControl GetGammaControl()
        {
            {
                VtblRef.GetGammaControl(ComPtr, out var array).HandleResult();
			    return (array);
            }
        }

        public void SetDisplaySurface(Surface scanoutSurface)
        {
            {
                VtblRef.SetDisplaySurface(ComPtr, scanoutSurface.ComPtr).HandleResult();
            }
        }

        public void GetDisplaySurfaceData(Surface destination)
        {
            {
                VtblRef.GetDisplaySurfaceData(ComPtr, destination.ComPtr).HandleResult();
            }
        }

        public FrameStatistics GetFrameStatistics()
        {
            {
                VtblRef.GetFrameStatistics(ComPtr, out var stats).HandleResult();
			    return (stats);
            }
        }

        public OutputDesc Desc => GetDesc();

        public GammaControlCapabilities GammaControlCapabilities => GetGammaControlCapabilities();

        public GammaControl GammaControl
        {
            get => GetGammaControl();
            set => SetGammaControl(value);
        }

        public FrameStatistics FrameStatistics => GetFrameStatistics();
	}
}

namespace IndirectX.Dxgi.Interop
{
    [StructLayout(LayoutKind.Sequential)]
	public unsafe struct OutputVtbl
	{
	    internal DxgiObjectVtbl Base;
        internal delegate* unmanaged[Stdcall]<ComPtr, out OutputDesc, HResult> GetDesc;
        internal delegate* unmanaged[Stdcall]<ComPtr, Format, int, ref int, ModeDesc*, HResult> GetDisplayModeList;
        internal delegate* unmanaged[Stdcall]<ComPtr, in ModeDesc, out ModeDesc, ComPtr, HResult> FindClosestMatchingMode;
        internal delegate* unmanaged[Stdcall]<ComPtr, HResult> WaitForVBlank;
        internal delegate* unmanaged[Stdcall]<ComPtr, ComPtr, Bool, HResult> TakeOwnership;
        internal delegate* unmanaged[Stdcall]<ComPtr, void> ReleaseOwnership;
        internal delegate* unmanaged[Stdcall]<ComPtr, out GammaControlCapabilities, HResult> GetGammaControlCapabilities;
        internal delegate* unmanaged[Stdcall]<ComPtr, in GammaControl, HResult> SetGammaControl;
        internal delegate* unmanaged[Stdcall]<ComPtr, out GammaControl, HResult> GetGammaControl;
        internal delegate* unmanaged[Stdcall]<ComPtr, ComPtr, HResult> SetDisplaySurface;
        internal delegate* unmanaged[Stdcall]<ComPtr, ComPtr, HResult> GetDisplaySurfaceData;
        internal delegate* unmanaged[Stdcall]<ComPtr, out FrameStatistics, HResult> GetFrameStatistics;
	}
}
